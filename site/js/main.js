var Dt=Object.defineProperty;var Bt=(t,e)=>()=>(t&&(e=t(t=0)),e);var Pt=(t,e)=>{for(var o in e)Dt(t,o,{get:e[o],enumerable:!0})};var bt={};Pt(bt,{ImageSlider:()=>H,initSliders:()=>wt,setupModalSliders:()=>yt,sliderInstances:()=>A});function O(t,e){return A.has(t)||A.set(t,new H(t,e)),A.get(t)}function wt(t=document){(t instanceof HTMLElement?t:document).querySelectorAll("[data-slider]").forEach(o=>O(o))}function yt(t=typeof window<"u"?window.MicroModal:void 0){if(!t||vt)return;let e=t.show.bind(t);t.show=(o,i={})=>{e(o,i);let n=document.getElementById(o);n&&n.querySelectorAll("[data-slider]").forEach(r=>{let a=A.get(r);a?a.reset():O(r)})},vt=!0}function Ut(t=document.body){typeof MutationObserver>"u"||!t||(I&&I.disconnect(),I=new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(i=>{i instanceof HTMLElement&&(typeof i.matches=="function"&&i.matches("[data-slider]")&&O(i),i.querySelectorAll?.("[data-slider]").forEach(n=>O(n)))})})}),I.observe(t,{childList:!0,subtree:!0}))}function mt(){wt(),yt(),Ut()}var Jt,gt,H,A,vt,I,z=Bt(()=>{Jt={trackSelector:".c-slider__track",slideSelector:".c-slider__slide",prevSelector:"[data-slider-prev]",nextSelector:"[data-slider-next]",paginationSelector:".c-slider__pagination",swipeThreshold:40},gt={prev:["ArrowLeft","Left"],next:["ArrowRight","Right"]},H=class{constructor(e,o={}){this.root=e,this.options={...Jt,...o},this.track=e.querySelector(this.options.trackSelector),this.slides=Array.from(e.querySelectorAll(this.options.slideSelector)),this.prevButton=e.querySelector(this.options.prevSelector),this.nextButton=e.querySelector(this.options.nextSelector),this.pagination=e.querySelector(this.options.paginationSelector),this.paginationButtons=[],this.currentIndex=0,this.touchStartX=null,this.touchEndX=null,this.handlePrev=this.goToPrev.bind(this),this.handleNext=this.goToNext.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.init()}init(){if(!(!this.track||this.slides.length===0)){if(this.root.hasAttribute("tabindex")||this.root.setAttribute("tabindex","0"),this.root.setAttribute("role","region"),this.root.setAttribute("aria-roledescription","carousel"),this.bindEvents(),this.slides.length<=1){this.toggleControls(!1),this.updateSlides();return}this.toggleControls(!0),this.renderPagination(),this.updateSlides()}}bindEvents(){this.prevButton&&this.prevButton.addEventListener("click",this.handlePrev),this.nextButton&&this.nextButton.addEventListener("click",this.handleNext),this.root.addEventListener("keydown",this.handleKeydown),this.track&&(this.track.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.track.addEventListener("touchend",this.handleTouchEnd,{passive:!0}))}renderPagination(){if(!this.pagination)return;this.pagination.innerHTML="",this.paginationButtons=[];let e=document.createDocumentFragment();this.slides.forEach((o,i)=>{let n=document.createElement("button");n.type="button",n.className="c-slider__pagination-button",n.setAttribute("aria-label",`\u30B9\u30E9\u30A4\u30C9${i+1}\u306B\u79FB\u52D5`),n.dataset.sliderIndex=String(i),n.addEventListener("click",()=>this.goToSlide(i)),this.paginationButtons.push(n),e.appendChild(n)}),this.pagination.appendChild(e)}updateSlides(){let e=-this.currentIndex*100;this.track.style.transform=`translateX(${e}%)`,this.slides.forEach((o,i)=>{let n=i===this.currentIndex;o.setAttribute("aria-hidden",n?"false":"true"),o.classList.toggle("is-active",n)}),this.updatePagination(),this.updateControlState()}goToPrev(){this.slides.length<=1||(this.currentIndex>0?this.currentIndex-=1:this.currentIndex=this.slides.length-1,this.updateSlides())}goToNext(){this.slides.length<=1||(this.currentIndex<this.slides.length-1?this.currentIndex+=1:this.currentIndex=0,this.updateSlides())}goToSlide(e){e<0||e>=this.slides.length||(this.currentIndex=e,this.updateSlides())}handleKeydown(e){if(gt.prev.includes(e.key)){e.preventDefault(),this.goToPrev();return}gt.next.includes(e.key)&&(e.preventDefault(),this.goToNext())}handleTouchStart(e){this.touchStartX=e.changedTouches[0].clientX}handleTouchEnd(e){if(this.touchEndX=e.changedTouches[0].clientX,this.touchStartX===null||this.touchEndX===null)return;let o=this.touchStartX-this.touchEndX;this.touchStartX=null,this.touchEndX=null,!(Math.abs(o)<this.options.swipeThreshold)&&(o>0?this.goToNext():this.goToPrev())}updatePagination(){this.paginationButtons.length&&this.paginationButtons.forEach((e,o)=>{let i=o===this.currentIndex;e.classList.toggle("is-active",i),i?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")})}updateControlState(){let e=this.currentIndex===0,o=this.currentIndex===this.slides.length-1,i=this.slides.length>1;this.prevButton&&(this.prevButton.disabled=!i||e),this.nextButton&&(this.nextButton.disabled=!i||o)}toggleControls(e){let o=e?"":"none";[this.prevButton,this.nextButton,this.pagination].forEach(i=>{i&&(i.style.display=o)})}reset(){this.currentIndex=0,this.updateSlides()}destroy(){this.prevButton&&this.prevButton.removeEventListener("click",this.handlePrev),this.nextButton&&this.nextButton.removeEventListener("click",this.handleNext),this.track&&(this.track.removeEventListener("touchstart",this.handleTouchStart),this.track.removeEventListener("touchend",this.handleTouchEnd)),this.root.removeEventListener("keydown",this.handleKeydown)}},A=new Map;vt=!1;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",mt):mt()});var B=class extends Event{oldState;newState;constructor(t,{oldState:e="",newState:o="",...i}={}){super(t,i),this.oldState=String(e||""),this.newState=String(o||"")}},tt=new WeakMap;function at(t,e,o){tt.set(t,setTimeout(()=>{tt.has(t)&&t.dispatchEvent(new B("toggle",{cancelable:!1,oldState:e,newState:o}))},0))}var $=globalThis.ShadowRoot||function(){},It=globalThis.HTMLDialogElement||function(){},x=new WeakMap,h=new WeakMap,d=new WeakMap,y=new WeakMap;function C(t){return y.get(t)||"hidden"}var _=new WeakMap;function L(t){return[...t].pop()}function Ht(t){let e=t.popoverTargetElement;if(!(e instanceof HTMLElement))return;let o=C(e);t.popoverTargetAction==="show"&&o==="showing"||t.popoverTargetAction==="hide"&&o==="hidden"||(o==="showing"?k(e,!0,!0):g(e,!1)&&(_.set(e,t),R(e)))}function g(t,e){return!(t.popover!=="auto"&&t.popover!=="manual"&&t.popover!=="hint"||!t.isConnected||e&&C(t)!=="showing"||!e&&C(t)!=="hidden"||t instanceof It&&t.hasAttribute("open")||document.fullscreenElement===t)}function et(t){if(!t)return 0;let e=h.get(document)||new Set,o=d.get(document)||new Set;return o.has(t)?[...o].indexOf(t)+e.size+1:e.has(t)?[...e].indexOf(t)+1:0}function Ot(t){let e=lt(t),o=Nt(t);return et(e)>et(o)?e:o}function T(t){let e,o=d.get(t)||new Set,i=h.get(t)||new Set,n=o.size>0?o:i.size>0?i:null;return n?(e=L(n),e.isConnected?e:(n.delete(e),T(t))):null}function ot(t){for(let e of t||[])if(!e.isConnected)t.delete(e);else return e;return null}function b(t){return typeof t.getRootNode=="function"?t.getRootNode():t.parentNode?b(t.parentNode):t}function lt(t){for(;t;){if(t instanceof HTMLElement&&t.popover==="auto"&&y.get(t)==="showing")return t;if(t=t instanceof Element&&t.assignedSlot||t.parentElement||b(t),t instanceof $&&(t=t.host),t instanceof Document)return}}function Nt(t){for(;t;){let e=t.popoverTargetElement;if(e instanceof HTMLElement)return e;if(t=t.parentElement||b(t),t instanceof $&&(t=t.host),t instanceof Document)return}}function nt(t,e){let o=new Map,i=0;for(let a of e||[])o.set(a,i),i+=1;o.set(t,i),i+=1;let n=null;function r(a){if(!a)return;let c=!1,s=null,l=null;for(;!c;){if(s=lt(a)||null,s===null||!o.has(s))return;(t.popover==="hint"||s.popover==="auto")&&(c=!0),c||(a=s.parentElement)}l=o.get(s),(n===null||o.get(n)<l)&&(n=s)}return r(t.parentElement||b(t)),n}function qt(t){return t.hidden||t instanceof $||(t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLOptGroupElement||t instanceof HTMLOptionElement||t instanceof HTMLFieldSetElement)&&t.disabled||t instanceof HTMLInputElement&&t.type==="hidden"||t instanceof HTMLAnchorElement&&t.href===""?!1:typeof t.tabIndex=="number"&&t.tabIndex!==-1}function Ft(t){if(t.shadowRoot&&t.shadowRoot.delegatesFocus!==!0)return null;let e=t;e.shadowRoot&&(e=e.shadowRoot);let o=e.querySelector("[autofocus]");if(o)return o;{let r=e.querySelectorAll("slot");for(let a of r){let c=a.assignedElements({flatten:!0});for(let s of c){if(s.hasAttribute("autofocus"))return s;if(o=s.querySelector("[autofocus]"),o)return o}}}let i=t.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT),n=i.currentNode;for(;n;){if(qt(n))return n;n=i.nextNode()}}function Rt(t){var e;(e=Ft(t))==null||e.focus()}var D=new WeakMap;function R(t){if(!g(t,!1))return;let e=t.ownerDocument;if(!t.dispatchEvent(new B("beforetoggle",{cancelable:!0,oldState:"closed",newState:"open"}))||!g(t,!1))return;let o=!1,i=t.popover,n=null,r=nt(t,h.get(e)||new Set),a=nt(t,d.get(e)||new Set);if(i==="auto"&&(j(d.get(e)||new Set,o,!0),v(r||e,o,!0),n="auto"),i==="hint"&&(a?(v(a,o,!0),n="hint"):(j(d.get(e)||new Set,o,!0),r?(v(r,o,!0),n="auto"):n="hint")),i==="auto"||i==="hint"){if(i!==t.popover||!g(t,!1))return;T(e)||(o=!0),n==="auto"?(h.has(e)||h.set(e,new Set),h.get(e).add(t)):n==="hint"&&(d.has(e)||d.set(e,new Set),d.get(e).add(t))}D.delete(t);let c=e.activeElement;t.classList.add(":popover-open"),y.set(t,"showing"),x.has(e)||x.set(e,new Set),x.get(e).add(t),ct(_.get(t),!0),Rt(t),o&&c&&t.popover==="auto"&&D.set(t,c),at(t,"closed","open")}function k(t,e=!1,o=!1){var i,n;if(!g(t,!0))return;let r=t.ownerDocument;if(["auto","hint"].includes(t.popover)&&(v(t,e,o),!g(t,!0)))return;let a=h.get(r)||new Set,c=a.has(t)&&L(a)===t;if(ct(_.get(t),!1),_.delete(t),o&&(t.dispatchEvent(new B("beforetoggle",{oldState:"open",newState:"closed"})),c&&L(a)!==t&&v(t,e,o),!g(t,!0)))return;(i=x.get(r))==null||i.delete(t),a.delete(t),(n=d.get(r))==null||n.delete(t),t.classList.remove(":popover-open"),y.set(t,"hidden"),o&&at(t,"open","closed");let s=D.get(t);s&&(D.delete(t),e&&s.focus())}function jt(t,e=!1,o=!1){let i=T(t);for(;i;)k(i,e,o),i=T(t)}function j(t,e=!1,o=!1){let i=ot(t);for(;i;)k(i,e,o),i=ot(t)}function it(t,e,o,i){let n=!1,r=!1;for(;n||!r;){r=!0;let a=null,c=!1;for(let s of e)if(s===t)c=!0;else if(c){a=s;break}if(!a)return;for(;C(a)==="showing"&&e.size;)k(L(e),o,i);e.has(t)&&L(e)!==t&&(n=!0),n&&(i=!1)}}function v(t,e,o){var i,n;let r=t.ownerDocument||t;if(t instanceof Document)return jt(r,e,o);if((i=d.get(r))!=null&&i.has(t)){it(t,d.get(r),e,o);return}j(d.get(r)||new Set,e,o),(n=h.get(r))!=null&&n.has(t)&&it(t,h.get(r),e,o)}var N=new WeakMap;function rt(t){if(!t.isTrusted)return;let e=t.composedPath()[0];if(!e)return;let o=e.ownerDocument;if(!T(o))return;let n=Ot(e);if(n&&t.type==="pointerdown")N.set(o,n);else if(t.type==="pointerup"){let r=N.get(o)===n;N.delete(o),r&&v(n||o,!1,!0)}}var q=new WeakMap;function ct(t,e=!1){if(!t)return;q.has(t)||q.set(t,t.getAttribute("aria-expanded"));let o=t.popoverTargetElement;if(o instanceof HTMLElement&&o.popover==="auto")t.setAttribute("aria-expanded",String(e));else{let i=q.get(t);i?t.setAttribute("aria-expanded",i):t.removeAttribute("aria-expanded")}}var st=globalThis.ShadowRoot||function(){};function $t(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function f(t,e,o){let i=t[e];Object.defineProperty(t,e,{value(n){return i.call(this,o(n))}})}var Wt=/(^|[^\\]):popover-open\b/g;function Xt(){return typeof globalThis.CSSLayerBlockRule=="function"}function Kt(){let t=Xt();return`
${t?"@layer popover-polyfill {":""}
  :where([popover]) {
    position: fixed;
    z-index: 2147483647;
    inset: 0;
    padding: 0.25em;
    width: fit-content;
    height: fit-content;
    border-width: initial;
    border-color: initial;
    border-image: initial;
    border-style: solid;
    background-color: canvas;
    color: canvastext;
    overflow: auto;
    margin: auto;
  }

  :where([popover]:not(.\\:popover-open)) {
    display: none;
  }

  :where(dialog[popover].\\:popover-open) {
    display: block;
  }

  :where(dialog[popover][open]) {
    display: revert;
  }

  :where([anchor].\\:popover-open) {
    inset: auto;
  }

  :where([anchor]:popover-open) {
    inset: auto;
  }

  @supports not (background-color: canvas) {
    :where([popover]) {
      background-color: white;
      color: black;
    }
  }

  @supports (width: -moz-fit-content) {
    :where([popover]) {
      width: -moz-fit-content;
      height: -moz-fit-content;
    }
  }

  @supports not (inset: 0) {
    :where([popover]) {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }
${t?"}":""}
`}var w=null;function F(t){let e=Kt();if(w===null)try{w=new CSSStyleSheet,w.replaceSync(e)}catch{w=!1}if(w===!1){let o=document.createElement("style");o.textContent=e,t instanceof Document?t.head.prepend(o):t.prepend(o)}else t.adoptedStyleSheets=[w,...t.adoptedStyleSheets]}function zt(){if(typeof window>"u")return;window.ToggleEvent=window.ToggleEvent||B;function t(s){return s?.includes(":popover-open")&&(s=s.replace(Wt,"$1.\\:popover-open")),s}f(Document.prototype,"querySelector",t),f(Document.prototype,"querySelectorAll",t),f(Element.prototype,"querySelector",t),f(Element.prototype,"querySelectorAll",t),f(Element.prototype,"matches",t),f(Element.prototype,"closest",t),f(DocumentFragment.prototype,"querySelectorAll",t),Object.defineProperties(HTMLElement.prototype,{popover:{enumerable:!0,configurable:!0,get(){if(!this.hasAttribute("popover"))return null;let s=(this.getAttribute("popover")||"").toLowerCase();return s===""||s=="auto"?"auto":s=="hint"?"hint":"manual"},set(s){s===null?this.removeAttribute("popover"):this.setAttribute("popover",s)}},showPopover:{enumerable:!0,configurable:!0,value(s={}){R(this)}},hidePopover:{enumerable:!0,configurable:!0,value(){k(this,!0,!0)}},togglePopover:{enumerable:!0,configurable:!0,value(s={}){return typeof s=="boolean"&&(s={force:s}),y.get(this)==="showing"&&s.force===void 0||s.force===!1?k(this,!0,!0):(s.force===void 0||s.force===!0)&&R(this),y.get(this)==="showing"}}});let e=Element.prototype.attachShadow;e&&Object.defineProperties(Element.prototype,{attachShadow:{enumerable:!0,configurable:!0,writable:!0,value(s){let l=e.call(this,s);return F(l),l}}});let o=HTMLElement.prototype.attachInternals;o&&Object.defineProperties(HTMLElement.prototype,{attachInternals:{enumerable:!0,configurable:!0,writable:!0,value(){let s=o.call(this);return s.shadowRoot&&F(s.shadowRoot),s}}});let i=new WeakMap;function n(s){Object.defineProperties(s.prototype,{popoverTargetElement:{enumerable:!0,configurable:!0,set(l){if(l===null)this.removeAttribute("popovertarget"),i.delete(this);else if(l instanceof Element)this.setAttribute("popovertarget",""),i.set(this,l);else throw new TypeError("popoverTargetElement must be an element or null")},get(){if(this.localName!=="button"&&this.localName!=="input"||this.localName==="input"&&this.type!=="reset"&&this.type!=="image"&&this.type!=="button"||this.disabled||this.form&&this.type==="submit")return null;let l=i.get(this);if(l&&l.isConnected)return l;if(l&&!l.isConnected)return i.delete(this),null;let u=b(this),p=this.getAttribute("popovertarget");return(u instanceof Document||u instanceof st)&&p&&u.getElementById(p)||null}},popoverTargetAction:{enumerable:!0,configurable:!0,get(){let l=(this.getAttribute("popovertargetaction")||"").toLowerCase();return l==="show"||l==="hide"?l:"toggle"},set(l){this.setAttribute("popovertargetaction",l)}}})}n(HTMLButtonElement),n(HTMLInputElement);let r=s=>{if(s.defaultPrevented)return;let l=s.composedPath(),u=l[0];if(!(u instanceof Element)||u?.shadowRoot)return;let p=b(u);if(!(p instanceof st||p instanceof Document))return;let E=l.find(M=>{var S;return(S=M.matches)==null?void 0:S.call(M,"[popovertargetaction],[popovertarget]")});if(E){Ht(E),s.preventDefault();return}},a=s=>{let l=s.key,u=s.target;!s.defaultPrevented&&u&&(l==="Escape"||l==="Esc")&&v(u.ownerDocument,!0,!0)};(s=>{s.addEventListener("click",r),s.addEventListener("keydown",a),s.addEventListener("pointerdown",rt),s.addEventListener("pointerup",rt)})(document),F(document)}$t()||zt();function ut(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t){return(function(e){if(Array.isArray(e))return W(e)})(t)||(function(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)})(t)||(function(e,o){if(e){if(typeof e=="string")return W(e,o);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return W(e,o)}})(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function W(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}var dt,X,m,K,ht,pt=(dt=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],X=(function(){function t(n){var r=n.targetModal,a=n.triggers,c=a===void 0?[]:a,s=n.onShow,l=s===void 0?function(){}:s,u=n.onClose,p=u===void 0?function(){}:u,E=n.openTrigger,M=E===void 0?"data-micromodal-trigger":E,S=n.closeTrigger,Et=S===void 0?"data-micromodal-close":S,U=n.openClass,St=U===void 0?"is-open":U,V=n.disableScroll,Lt=V!==void 0&&V,G=n.disableFocus,Tt=G!==void 0&&G,Y=n.awaitCloseAnimation,At=Y!==void 0&&Y,Q=n.awaitOpenAnimation,Mt=Q!==void 0&&Q,Z=n.debugMode,xt=Z!==void 0&&Z;(function(Ct,_t){if(!(Ct instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,t),this.modal=typeof r=="string"?document.getElementById(r):r,this.config={debugMode:xt,disableScroll:Lt,openTrigger:M,closeTrigger:Et,openClass:St,onShow:l,onClose:p,awaitCloseAnimation:At,awaitOpenAnimation:Mt,disableFocus:Tt},c.length>0&&this.registerTriggers.apply(this,P(c)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,o,i;return e=t,(o=[{key:"registerTriggers",value:function(){for(var n=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];a.filter(Boolean).forEach((function(s){s.addEventListener("click",(function(l){return n.showModal(l)}))}))}},{key:"showModal",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var a=function c(){n.modal.removeEventListener("animationend",c,!1),n.setFocusToFirstNode()};this.modal.addEventListener("animationend",a,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,r)}},{key:"closeModal",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,n),this.config.awaitCloseAnimation){var a=this.config.openClass;this.modal.addEventListener("animationend",(function c(){r.classList.remove(a),r.removeEventListener("animationend",c,!1)}),!1)}else r.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(n){this.modal=typeof n=="string"?document.getElementById(n):n,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(n){if(this.config.disableScroll){var r=document.querySelector("body");switch(n){case"enable":Object.assign(r.style,{overflow:""});break;case"disable":Object.assign(r.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(n){(n.target.hasAttribute(this.config.closeTrigger)||n.target.parentNode.hasAttribute(this.config.closeTrigger))&&(n.preventDefault(),n.stopPropagation(),this.closeModal(n))}},{key:"onKeydown",value:function(n){n.keyCode===27&&this.closeModal(n),n.keyCode===9&&this.retainFocus(n)}},{key:"getFocusableNodes",value:function(){var n=this.modal.querySelectorAll(dt);return Array.apply(void 0,P(n))}},{key:"setFocusToFirstNode",value:function(){var n=this;if(!this.config.disableFocus){var r=this.getFocusableNodes();if(r.length!==0){var a=r.filter((function(c){return!c.hasAttribute(n.config.closeTrigger)}));a.length>0&&a[0].focus(),a.length===0&&r[0].focus()}}}},{key:"retainFocus",value:function(n){var r=this.getFocusableNodes();if(r.length!==0)if(r=r.filter((function(c){return c.offsetParent!==null})),this.modal.contains(document.activeElement)){var a=r.indexOf(document.activeElement);n.shiftKey&&a===0&&(r[r.length-1].focus(),n.preventDefault()),!n.shiftKey&&r.length>0&&a===r.length-1&&(r[0].focus(),n.preventDefault())}else r[0].focus()}}])&&ut(e.prototype,o),i&&ut(e,i),t})(),m=null,K=function(t){if(typeof id=="string"?!document.getElementById(t):!t)return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},ht=function(t,e){if((function(i){i.length<=0&&(console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))})(t),!e)return!0;for(var o in e)K(o);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),o=P(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=(function(a,c){var s=[];return a.forEach((function(l){var u=l.attributes[c].value;s[u]===void 0&&(s[u]=[]),s[u].push(l)})),s})(o,e.openTrigger);if(e.debugMode!==!0||ht(o,i)!==!1)for(var n in i){var r=i[n];e.targetModal=n,e.triggers=P(r),m=new X(e)}},show:function(t,e){var o=e||{};o.targetModal=t,o.debugMode===!0&&K(t)===!1||(m&&m.removeEventListeners(),(m=new X(o)).showModal())},close:function(t){t?m.closeModalByIdOrElement(t):m.closeModal()}});typeof window<"u"&&(window.MicroModal=pt);var ft=pt;z();var J=class{constructor(){this.worksSection=document.querySelector(".js-work"),this.workList=document.querySelector(".js-work-list"),this.workCards=document.querySelectorAll(".js-work-card"),this.currentCard=null,this.detailsBlock=null,this.workData=[],!(!this.worksSection||!this.workList)&&this.init()}init(){this.extractWorkData(),this.workCards.forEach((e,o)=>{let i=e.querySelector(".js-work-trigger");i&&i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),this.toggleDetails(o,e)})}),this.escapeHandler=e=>{e.key==="Escape"&&this.currentCard!==null&&this.close()},document.addEventListener("keydown",this.escapeHandler)}extractWorkData(){this.workCards.forEach(e=>{let o=e.querySelector(".js-work-trigger img"),i=e.querySelector(".p-portfolio__work-title");if(o&&i){let n=e.dataset.workMeta||"",r=e.dataset.workTags||"[]",a=JSON.parse(r),c=e.dataset.workSummary||"",s=e.dataset.workDescription||"",l=e.dataset.workImages||"[]",u=JSON.parse(l);this.workData.push({image:o.src,alt:o.alt,title:i.textContent,meta:n,tags:a,summary:c,description:s,images:u.length>0?u:[o.src]})}})}async toggleDetails(e,o){if(this.currentCard===o&&this.detailsBlock){await this.close();return}await this.removeDetailsBlock(),this.insertDetailsBlock(e,o)}getGridColumnCount(){let i=window.getComputedStyle(this.workList).gridTemplateColumns.match(/repeat\((\d+)/);if(i)return parseInt(i[1],10);let n=window.innerWidth;return n>=1024?3:n>=768?2:1}getRowNumber(e,o){return Math.floor(e/o)}getNextRowStartCardIndex(e,o){let i=(e+1)*o,n=this.workCards.length;return i>=n?n-1:i}createDetailsElement(e){let o=document.createElement("li");return o.className="p-portfolio__work-details-block js-work-details-block",o.innerHTML=e,o}getCurrentRowLastCard(e){let o=this.getGridColumnCount(),n=(this.getRowNumber(e,o)+1)*o-1,r=this.workCards.length,a=n>=r?r-1:n;return this.workCards[a]}insertDetailsBlock(e,o){let i=this.workData[e];if(!i)return;let n=this.createDetailsHTML(i,e),r=this.createDetailsElement(n);this.getCurrentRowLastCard(e).insertAdjacentElement("afterend",r),this.currentCard=o,this.detailsBlock=r,o.classList.add("is-open"),this.openDetailsBlock(r),this.setupDetailsBlockEvents(r,i,e)}setupDetailsBlockEvents(e,o,i){let n=e.querySelector(".js-work-close");n&&n.addEventListener("click",()=>{this.close()}),o.images.length>1&&this.initSlider(e)}createDetailsHTML(e,o){return`
			<div class="p-portfolio__work-details-content">
				<button class="p-portfolio__work-close js-work-close" aria-label="\u8A73\u7D30\u3092\u9589\u3058\u308B">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="18" y1="6" x2="6" y2="18"></line>
						<line x1="6" y1="6" x2="18" y2="18"></line>
					</svg>
				</button>
				<div class="p-portfolio__work-details-inner">
					<div class="p-portfolio__work-details-grid">
						${e.images.length>1?`
			<div class="c-slider" data-slider="work-details-${o}">
				<div class="c-slider__viewport">
					<div class="c-slider__track">
						${e.images.map((n,r)=>`
							<div class="c-slider__slide">
								<img src="${n}" alt="${e.alt} - \u753B\u50CF${r+1}" />
							</div>
						`).join("")}
					</div>
				</div>
				<button class="c-slider__button c-slider__button--prev" aria-label="\u524D\u306E\u753B\u50CF" data-slider-prev>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<polyline points="15 18 9 12 15 6"></polyline>
					</svg>
				</button>
				<button class="c-slider__button c-slider__button--next" aria-label="\u6B21\u306E\u753B\u50CF" data-slider-next>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<polyline points="9 18 15 12 9 6"></polyline>
					</svg>
				</button>
				<div class="c-slider__pagination" aria-label="\u30B9\u30E9\u30A4\u30C0\u30FC\u306E\u30DA\u30FC\u30B8\u30CD\u30FC\u30B7\u30E7\u30F3"></div>
			</div>
		`:`
			<div class="p-portfolio__work-details-image">
				<img src="${e.images[0]}" alt="${e.alt}" />
			</div>
		`}
						<div class="p-portfolio__work-details-text">
							<h2 class="p-portfolio__work-details-title">${e.title}</h2>
							<hr class="p-portfolio__work-details-divider" />
							${e.meta?`<p class="p-portfolio__work-details-meta">${e.meta}</p>`:""}
							${e.tags.length>0?`
								<div class="p-portfolio__work-details-tags">
									${e.tags.map(n=>`<span class="c-badge c-badge--small">${n}</span>`).join("")}
								</div>
							`:""}
							${e.summary?`<p class="p-portfolio__work-details-summary">${e.summary}</p>`:""}
							${e.description?`<p class="p-portfolio__work-details-description">${e.description}</p>`:""}
						</div>
					</div>
				</div>
			</div>
		`}initSlider(e){let o=e.querySelector("[data-slider]");o&&Promise.resolve().then(()=>(z(),bt)).then(({ImageSlider:i,sliderInstances:n})=>{setTimeout(()=>{if(!n.has(o)){let r=new i(o);n.set(o,r)}},0)})}scrollToDetails(e){let o=e.getBoundingClientRect(),n=(window.pageYOffset||document.documentElement.scrollTop)+o.top-20;window.scrollTo({top:n,behavior:"smooth"})}openDetailsBlock(e){e.style.height="0px",requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.style.height="auto";let o=e.scrollHeight;e.style.height="0px",requestAnimationFrame(()=>{e.style.height=`${o}px`})})})}closeDetailsBlock(e){return new Promise(o=>{let i=e.scrollHeight;e.style.height=`${i}px`,requestAnimationFrame(()=>{e.style.height="0px";let n=()=>{e.removeEventListener("transitionend",n),o()};e.addEventListener("transitionend",n)})})}async removeDetailsBlock(){this.detailsBlock&&(await this.closeDetailsBlock(this.detailsBlock),this.detailsBlock.remove(),this.detailsBlock=null),this.currentCard&&this.currentCard.classList.remove("is-open"),this.currentCard=null}async close(){await this.removeDetailsBlock()}destroy(){this.close(),document.removeEventListener("keydown",this.escapeHandler)}};function kt(){document.querySelector(".js-work-list")&&new J}function Vt(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",kt):setTimeout(kt,0)}Vt();ft.init({disableScroll:!0});
//# sourceMappingURL=main.js.map
