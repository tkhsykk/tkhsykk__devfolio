var qt=Object.defineProperty;var Ot=(e,t)=>()=>(e&&(t=e(e=0)),t);var Rt=(e,t)=>{for(var o in t)qt(e,o,{get:t[o],enumerable:!0})};var Tt={};Rt(Tt,{ImageSlider:()=>N,initSliders:()=>St,setupModalSliders:()=>Lt,sliderInstances:()=>x});function F(e,t){return x.has(e)||x.set(e,new N(e,t)),x.get(e)}function St(e=document){(e instanceof HTMLElement?e:document).querySelectorAll("[data-slider]").forEach(o=>F(o))}function Lt(e=typeof window<"u"?window.MicroModal:void 0){if(!e||Et)return;let t=e.show.bind(e);e.show=(o,n={})=>{t(o,n);let i=document.getElementById(o);i&&i.querySelectorAll("[data-slider]").forEach(r=>{let a=x.get(r);a?a.reset():F(r)})},Et=!0}function Zt(e=document.body){typeof MutationObserver>"u"||!e||(R&&R.disconnect(),R=new MutationObserver(t=>{t.forEach(o=>{o.addedNodes.forEach(n=>{n instanceof HTMLElement&&(typeof n.matches=="function"&&n.matches("[data-slider]")&&F(n),n.querySelectorAll?.("[data-slider]").forEach(i=>F(i)))})})}),R.observe(e,{childList:!0,subtree:!0}))}function kt(){St(),Lt(),Zt()}var Qt,bt,N,x,Et,R,Y=Ot(()=>{Qt={trackSelector:".c-slider__track",slideSelector:".c-slider__slide",prevSelector:"[data-slider-prev]",nextSelector:"[data-slider-next]",paginationSelector:".c-slider__pagination",swipeThreshold:40},bt={prev:["ArrowLeft","Left"],next:["ArrowRight","Right"]},N=class{constructor(t,o={}){this.root=t,this.options={...Qt,...o},this.track=t.querySelector(this.options.trackSelector),this.slides=Array.from(t.querySelectorAll(this.options.slideSelector)),this.prevButton=t.querySelector(this.options.prevSelector),this.nextButton=t.querySelector(this.options.nextSelector),this.pagination=t.querySelector(this.options.paginationSelector),this.paginationButtons=[],this.currentIndex=0,this.touchStartX=null,this.touchEndX=null,this.handlePrev=this.goToPrev.bind(this),this.handleNext=this.goToNext.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.init()}init(){if(!(!this.track||this.slides.length===0)){if(this.root.hasAttribute("tabindex")||this.root.setAttribute("tabindex","0"),this.root.setAttribute("role","region"),this.root.setAttribute("aria-roledescription","carousel"),this.bindEvents(),this.slides.length<=1){this.toggleControls(!1),this.updateSlides();return}this.toggleControls(!0),this.renderPagination(),this.updateSlides()}}bindEvents(){this.prevButton&&this.prevButton.addEventListener("click",this.handlePrev),this.nextButton&&this.nextButton.addEventListener("click",this.handleNext),this.root.addEventListener("keydown",this.handleKeydown),this.track&&(this.track.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.track.addEventListener("touchend",this.handleTouchEnd,{passive:!0}))}renderPagination(){if(!this.pagination)return;this.pagination.innerHTML="",this.paginationButtons=[];let t=document.createDocumentFragment();this.slides.forEach((o,n)=>{let i=document.createElement("button");i.type="button",i.className="c-slider__pagination-button",i.setAttribute("aria-label",`\u30B9\u30E9\u30A4\u30C9${n+1}\u306B\u79FB\u52D5`),i.dataset.sliderIndex=String(n),i.addEventListener("click",()=>this.goToSlide(n)),this.paginationButtons.push(i),t.appendChild(i)}),this.pagination.appendChild(t)}updateSlides(){let t=-this.currentIndex*100;this.track.style.transform=`translateX(${t}%)`,this.slides.forEach((o,n)=>{let i=n===this.currentIndex;o.setAttribute("aria-hidden",i?"false":"true"),o.classList.toggle("is-active",i)}),this.updatePagination(),this.updateControlState()}goToPrev(){this.slides.length<=1||(this.currentIndex>0?this.currentIndex-=1:this.currentIndex=this.slides.length-1,this.updateSlides())}goToNext(){this.slides.length<=1||(this.currentIndex<this.slides.length-1?this.currentIndex+=1:this.currentIndex=0,this.updateSlides())}goToSlide(t){t<0||t>=this.slides.length||(this.currentIndex=t,this.updateSlides())}handleKeydown(t){if(bt.prev.includes(t.key)){t.preventDefault(),this.goToPrev();return}bt.next.includes(t.key)&&(t.preventDefault(),this.goToNext())}handleTouchStart(t){this.touchStartX=t.changedTouches[0].clientX}handleTouchEnd(t){if(this.touchEndX=t.changedTouches[0].clientX,this.touchStartX===null||this.touchEndX===null)return;let o=this.touchStartX-this.touchEndX;this.touchStartX=null,this.touchEndX=null,!(Math.abs(o)<this.options.swipeThreshold)&&(o>0?this.goToNext():this.goToPrev())}updatePagination(){this.paginationButtons.length&&this.paginationButtons.forEach((t,o)=>{let n=o===this.currentIndex;t.classList.toggle("is-active",n),n?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current")})}updateControlState(){let t=this.currentIndex===0,o=this.currentIndex===this.slides.length-1,n=this.slides.length>1;this.prevButton&&(this.prevButton.disabled=!n||t),this.nextButton&&(this.nextButton.disabled=!n||o)}toggleControls(t){let o=t?"":"none";[this.prevButton,this.nextButton,this.pagination].forEach(n=>{n&&(n.style.display=o)})}reset(){this.currentIndex=0,this.updateSlides()}destroy(){this.prevButton&&this.prevButton.removeEventListener("click",this.handlePrev),this.nextButton&&this.nextButton.removeEventListener("click",this.handleNext),this.track&&(this.track.removeEventListener("touchstart",this.handleTouchStart),this.track.removeEventListener("touchend",this.handleTouchEnd)),this.root.removeEventListener("keydown",this.handleKeydown)}},x=new Map;Et=!1;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",kt):kt()});var q=class extends Event{oldState;newState;constructor(e,{oldState:t="",newState:o="",...n}={}){super(e,n),this.oldState=String(t||""),this.newState=String(o||"")}},rt=new WeakMap;function ht(e,t,o){rt.set(e,setTimeout(()=>{rt.has(e)&&e.dispatchEvent(new q("toggle",{cancelable:!1,oldState:t,newState:o}))},0))}var U=globalThis.ShadowRoot||function(){},Nt=globalThis.HTMLDialogElement||function(){},B=new WeakMap,h=new WeakMap,d=new WeakMap,y=new WeakMap;function P(e){return y.get(e)||"hidden"}var I=new WeakMap;function L(e){return[...e].pop()}function Ft(e){let t=e.popoverTargetElement;if(!(t instanceof HTMLElement))return;let o=P(t);e.popoverTargetAction==="show"&&o==="showing"||e.popoverTargetAction==="hide"&&o==="hidden"||(o==="showing"?E(t,!0,!0):g(t,!1)&&(I.set(t,e),W(t)))}function g(e,t){return!(e.popover!=="auto"&&e.popover!=="manual"&&e.popover!=="hint"||!e.isConnected||t&&P(e)!=="showing"||!t&&P(e)!=="hidden"||e instanceof Nt&&e.hasAttribute("open")||document.fullscreenElement===e)}function st(e){if(!e)return 0;let t=h.get(document)||new Set,o=d.get(document)||new Set;return o.has(e)?[...o].indexOf(e)+t.size+1:t.has(e)?[...t].indexOf(e)+1:0}function jt(e){let t=pt(e),o=$t(e);return st(t)>st(o)?t:o}function T(e){let t,o=d.get(e)||new Set,n=h.get(e)||new Set,i=o.size>0?o:n.size>0?n:null;return i?(t=L(i),t.isConnected?t:(i.delete(t),T(e))):null}function at(e){for(let t of e||[])if(!t.isConnected)e.delete(t);else return t;return null}function b(e){return typeof e.getRootNode=="function"?e.getRootNode():e.parentNode?b(e.parentNode):e}function pt(e){for(;e;){if(e instanceof HTMLElement&&e.popover==="auto"&&y.get(e)==="showing")return e;if(e=e instanceof Element&&e.assignedSlot||e.parentElement||b(e),e instanceof U&&(e=e.host),e instanceof Document)return}}function $t(e){for(;e;){let t=e.popoverTargetElement;if(t instanceof HTMLElement)return t;if(e=e.parentElement||b(e),e instanceof U&&(e=e.host),e instanceof Document)return}}function lt(e,t){let o=new Map,n=0;for(let a of t||[])o.set(a,n),n+=1;o.set(e,n),n+=1;let i=null;function r(a){if(!a)return;let c=!1,s=null,l=null;for(;!c;){if(s=pt(a)||null,s===null||!o.has(s))return;(e.popover==="hint"||s.popover==="auto")&&(c=!0),c||(a=s.parentElement)}l=o.get(s),(i===null||o.get(i)<l)&&(i=s)}return r(e.parentElement||b(e)),i}function Kt(e){return e.hidden||e instanceof U||(e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement||e instanceof HTMLOptGroupElement||e instanceof HTMLOptionElement||e instanceof HTMLFieldSetElement)&&e.disabled||e instanceof HTMLInputElement&&e.type==="hidden"||e instanceof HTMLAnchorElement&&e.href===""?!1:typeof e.tabIndex=="number"&&e.tabIndex!==-1}function Wt(e){if(e.shadowRoot&&e.shadowRoot.delegatesFocus!==!0)return null;let t=e;t.shadowRoot&&(t=t.shadowRoot);let o=t.querySelector("[autofocus]");if(o)return o;{let r=t.querySelectorAll("slot");for(let a of r){let c=a.assignedElements({flatten:!0});for(let s of c){if(s.hasAttribute("autofocus"))return s;if(o=s.querySelector("[autofocus]"),o)return o}}}let n=e.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){if(Kt(i))return i;i=n.nextNode()}}function Xt(e){var t;(t=Wt(e))==null||t.focus()}var H=new WeakMap;function W(e){if(!g(e,!1))return;let t=e.ownerDocument;if(!e.dispatchEvent(new q("beforetoggle",{cancelable:!0,oldState:"closed",newState:"open"}))||!g(e,!1))return;let o=!1,n=e.popover,i=null,r=lt(e,h.get(t)||new Set),a=lt(e,d.get(t)||new Set);if(n==="auto"&&(X(d.get(t)||new Set,o,!0),v(r||t,o,!0),i="auto"),n==="hint"&&(a?(v(a,o,!0),i="hint"):(X(d.get(t)||new Set,o,!0),r?(v(r,o,!0),i="auto"):i="hint")),n==="auto"||n==="hint"){if(n!==e.popover||!g(e,!1))return;T(t)||(o=!0),i==="auto"?(h.has(t)||h.set(t,new Set),h.get(t).add(e)):i==="hint"&&(d.has(t)||d.set(t,new Set),d.get(t).add(e))}H.delete(e);let c=t.activeElement;e.classList.add(":popover-open"),y.set(e,"showing"),B.has(t)||B.set(t,new Set),B.get(t).add(e),ft(I.get(e),!0),Xt(e),o&&c&&e.popover==="auto"&&H.set(e,c),ht(e,"closed","open")}function E(e,t=!1,o=!1){var n,i;if(!g(e,!0))return;let r=e.ownerDocument;if(["auto","hint"].includes(e.popover)&&(v(e,t,o),!g(e,!0)))return;let a=h.get(r)||new Set,c=a.has(e)&&L(a)===e;if(ft(I.get(e),!1),I.delete(e),o&&(e.dispatchEvent(new q("beforetoggle",{oldState:"open",newState:"closed"})),c&&L(a)!==e&&v(e,t,o),!g(e,!0)))return;(n=B.get(r))==null||n.delete(e),a.delete(e),(i=d.get(r))==null||i.delete(e),e.classList.remove(":popover-open"),y.set(e,"hidden"),o&&ht(e,"open","closed");let s=H.get(e);s&&(H.delete(e),t&&s.focus())}function Ut(e,t=!1,o=!1){let n=T(e);for(;n;)E(n,t,o),n=T(e)}function X(e,t=!1,o=!1){let n=at(e);for(;n;)E(n,t,o),n=at(e)}function ct(e,t,o,n){let i=!1,r=!1;for(;i||!r;){r=!0;let a=null,c=!1;for(let s of t)if(s===e)c=!0;else if(c){a=s;break}if(!a)return;for(;P(a)==="showing"&&t.size;)E(L(t),o,n);t.has(e)&&L(t)!==e&&(i=!0),i&&(n=!1)}}function v(e,t,o){var n,i;let r=e.ownerDocument||e;if(e instanceof Document)return Ut(r,t,o);if((n=d.get(r))!=null&&n.has(e)){ct(e,d.get(r),t,o);return}X(d.get(r)||new Set,t,o),(i=h.get(r))!=null&&i.has(e)&&ct(e,h.get(r),t,o)}var j=new WeakMap;function ut(e){if(!e.isTrusted)return;let t=e.composedPath()[0];if(!t)return;let o=t.ownerDocument;if(!T(o))return;let i=jt(t);if(i&&e.type==="pointerdown")j.set(o,i);else if(e.type==="pointerup"){let r=j.get(o)===i;j.delete(o),r&&v(i||o,!1,!0)}}var $=new WeakMap;function ft(e,t=!1){if(!e)return;$.has(e)||$.set(e,e.getAttribute("aria-expanded"));let o=e.popoverTargetElement;if(o instanceof HTMLElement&&o.popover==="auto")e.setAttribute("aria-expanded",String(t));else{let n=$.get(e);n?e.setAttribute("aria-expanded",n):e.removeAttribute("aria-expanded")}}var dt=globalThis.ShadowRoot||function(){};function Vt(){return typeof HTMLElement<"u"&&typeof HTMLElement.prototype=="object"&&"popover"in HTMLElement.prototype}function f(e,t,o){let n=e[t];Object.defineProperty(e,t,{value(i){return n.call(this,o(i))}})}var zt=/(^|[^\\]):popover-open\b/g;function Gt(){return typeof globalThis.CSSLayerBlockRule=="function"}function Yt(){let e=Gt();return`
${e?"@layer popover-polyfill {":""}
  :where([popover]) {
    position: fixed;
    z-index: 2147483647;
    inset: 0;
    padding: 0.25em;
    width: fit-content;
    height: fit-content;
    border-width: initial;
    border-color: initial;
    border-image: initial;
    border-style: solid;
    background-color: canvas;
    color: canvastext;
    overflow: auto;
    margin: auto;
  }

  :where([popover]:not(.\\:popover-open)) {
    display: none;
  }

  :where(dialog[popover].\\:popover-open) {
    display: block;
  }

  :where(dialog[popover][open]) {
    display: revert;
  }

  :where([anchor].\\:popover-open) {
    inset: auto;
  }

  :where([anchor]:popover-open) {
    inset: auto;
  }

  @supports not (background-color: canvas) {
    :where([popover]) {
      background-color: white;
      color: black;
    }
  }

  @supports (width: -moz-fit-content) {
    :where([popover]) {
      width: -moz-fit-content;
      height: -moz-fit-content;
    }
  }

  @supports not (inset: 0) {
    :where([popover]) {
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
  }
${e?"}":""}
`}var w=null;function K(e){let t=Yt();if(w===null)try{w=new CSSStyleSheet,w.replaceSync(t)}catch{w=!1}if(w===!1){let o=document.createElement("style");o.textContent=t,e instanceof Document?e.head.prepend(o):e.prepend(o)}else e.adoptedStyleSheets=[w,...e.adoptedStyleSheets]}function Jt(){if(typeof window>"u")return;window.ToggleEvent=window.ToggleEvent||q;function e(s){return s?.includes(":popover-open")&&(s=s.replace(zt,"$1.\\:popover-open")),s}f(Document.prototype,"querySelector",e),f(Document.prototype,"querySelectorAll",e),f(Element.prototype,"querySelector",e),f(Element.prototype,"querySelectorAll",e),f(Element.prototype,"matches",e),f(Element.prototype,"closest",e),f(DocumentFragment.prototype,"querySelectorAll",e),Object.defineProperties(HTMLElement.prototype,{popover:{enumerable:!0,configurable:!0,get(){if(!this.hasAttribute("popover"))return null;let s=(this.getAttribute("popover")||"").toLowerCase();return s===""||s=="auto"?"auto":s=="hint"?"hint":"manual"},set(s){s===null?this.removeAttribute("popover"):this.setAttribute("popover",s)}},showPopover:{enumerable:!0,configurable:!0,value(s={}){W(this)}},hidePopover:{enumerable:!0,configurable:!0,value(){E(this,!0,!0)}},togglePopover:{enumerable:!0,configurable:!0,value(s={}){return typeof s=="boolean"&&(s={force:s}),y.get(this)==="showing"&&s.force===void 0||s.force===!1?E(this,!0,!0):(s.force===void 0||s.force===!0)&&W(this),y.get(this)==="showing"}}});let t=Element.prototype.attachShadow;t&&Object.defineProperties(Element.prototype,{attachShadow:{enumerable:!0,configurable:!0,writable:!0,value(s){let l=t.call(this,s);return K(l),l}}});let o=HTMLElement.prototype.attachInternals;o&&Object.defineProperties(HTMLElement.prototype,{attachInternals:{enumerable:!0,configurable:!0,writable:!0,value(){let s=o.call(this);return s.shadowRoot&&K(s.shadowRoot),s}}});let n=new WeakMap;function i(s){Object.defineProperties(s.prototype,{popoverTargetElement:{enumerable:!0,configurable:!0,set(l){if(l===null)this.removeAttribute("popovertarget"),n.delete(this);else if(l instanceof Element)this.setAttribute("popovertarget",""),n.set(this,l);else throw new TypeError("popoverTargetElement must be an element or null")},get(){if(this.localName!=="button"&&this.localName!=="input"||this.localName==="input"&&this.type!=="reset"&&this.type!=="image"&&this.type!=="button"||this.disabled||this.form&&this.type==="submit")return null;let l=n.get(this);if(l&&l.isConnected)return l;if(l&&!l.isConnected)return n.delete(this),null;let u=b(this),p=this.getAttribute("popovertarget");return(u instanceof Document||u instanceof dt)&&p&&u.getElementById(p)||null}},popoverTargetAction:{enumerable:!0,configurable:!0,get(){let l=(this.getAttribute("popovertargetaction")||"").toLowerCase();return l==="show"||l==="hide"?l:"toggle"},set(l){this.setAttribute("popovertargetaction",l)}}})}i(HTMLButtonElement),i(HTMLInputElement);let r=s=>{if(s.defaultPrevented)return;let l=s.composedPath(),u=l[0];if(!(u instanceof Element)||u?.shadowRoot)return;let p=b(u);if(!(p instanceof dt||p instanceof Document))return;let k=l.find(D=>{var S;return(S=D.matches)==null?void 0:S.call(D,"[popovertargetaction],[popovertarget]")});if(k){Ft(k),s.preventDefault();return}},a=s=>{let l=s.key,u=s.target;!s.defaultPrevented&&u&&(l==="Escape"||l==="Esc")&&v(u.ownerDocument,!0,!0)};(s=>{s.addEventListener("click",r),s.addEventListener("keydown",a),s.addEventListener("pointerdown",ut),s.addEventListener("pointerup",ut)})(document),K(document)}Vt()||Jt();function gt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return(function(t){if(Array.isArray(t))return V(t)})(e)||(function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)})(e)||(function(t,o){if(t){if(typeof t=="string")return V(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,o)}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function V(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var vt,z,m,G,mt,wt=(vt=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],z=(function(){function e(i){var r=i.targetModal,a=i.triggers,c=a===void 0?[]:a,s=i.onShow,l=s===void 0?function(){}:s,u=i.onClose,p=u===void 0?function(){}:u,k=i.openTrigger,D=k===void 0?"data-micromodal-trigger":k,S=i.closeTrigger,At=S===void 0?"data-micromodal-close":S,Z=i.openClass,Mt=Z===void 0?"is-open":Z,tt=i.disableScroll,_t=tt!==void 0&&tt,et=i.disableFocus,Ct=et!==void 0&&et,ot=i.awaitCloseAnimation,Dt=ot!==void 0&&ot,it=i.awaitOpenAnimation,Bt=it!==void 0&&it,nt=i.debugMode,Pt=nt!==void 0&&nt;(function(It,Ht){if(!(It instanceof Ht))throw new TypeError("Cannot call a class as a function")})(this,e),this.modal=typeof r=="string"?document.getElementById(r):r,this.config={debugMode:Pt,disableScroll:_t,openTrigger:D,closeTrigger:At,openClass:Mt,onShow:l,onClose:p,awaitCloseAnimation:Dt,awaitOpenAnimation:Bt,disableFocus:Ct},c.length>0&&this.registerTriggers.apply(this,O(c)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var t,o,n;return t=e,(o=[{key:"registerTriggers",value:function(){for(var i=this,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];a.filter(Boolean).forEach((function(s){s.addEventListener("click",(function(l){return i.showModal(l)}))}))}},{key:"showModal",value:function(){var i=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var a=function c(){i.modal.removeEventListener("animationend",c,!1),i.setFocusToFirstNode()};this.modal.addEventListener("animationend",a,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,r)}},{key:"closeModal",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,i),this.config.awaitCloseAnimation){var a=this.config.openClass;this.modal.addEventListener("animationend",(function c(){r.classList.remove(a),r.removeEventListener("animationend",c,!1)}),!1)}else r.classList.remove(this.config.openClass)}},{key:"closeModalByIdOrElement",value:function(i){this.modal=typeof i=="string"?document.getElementById(i):i,this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(i){if(this.config.disableScroll){var r=document.querySelector("body");switch(i){case"enable":Object.assign(r.style,{overflow:""});break;case"disable":Object.assign(r.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(i){(i.target.hasAttribute(this.config.closeTrigger)||i.target.parentNode.hasAttribute(this.config.closeTrigger))&&(i.preventDefault(),i.stopPropagation(),this.closeModal(i))}},{key:"onKeydown",value:function(i){i.keyCode===27&&this.closeModal(i),i.keyCode===9&&this.retainFocus(i)}},{key:"getFocusableNodes",value:function(){var i=this.modal.querySelectorAll(vt);return Array.apply(void 0,O(i))}},{key:"setFocusToFirstNode",value:function(){var i=this;if(!this.config.disableFocus){var r=this.getFocusableNodes();if(r.length!==0){var a=r.filter((function(c){return!c.hasAttribute(i.config.closeTrigger)}));a.length>0&&a[0].focus(),a.length===0&&r[0].focus()}}}},{key:"retainFocus",value:function(i){var r=this.getFocusableNodes();if(r.length!==0)if(r=r.filter((function(c){return c.offsetParent!==null})),this.modal.contains(document.activeElement)){var a=r.indexOf(document.activeElement);i.shiftKey&&a===0&&(r[r.length-1].focus(),i.preventDefault()),!i.shiftKey&&r.length>0&&a===r.length-1&&(r[0].focus(),i.preventDefault())}else r[0].focus()}}])&&gt(t.prototype,o),n&&gt(t,n),e})(),m=null,G=function(e){if(typeof id=="string"?!document.getElementById(e):!e)return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},mt=function(e,t){if((function(n){n.length<=0&&(console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))})(e),!t)return!0;for(var o in t)G(o);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),o=O(document.querySelectorAll("[".concat(t.openTrigger,"]"))),n=(function(a,c){var s=[];return a.forEach((function(l){var u=l.attributes[c].value;s[u]===void 0&&(s[u]=[]),s[u].push(l)})),s})(o,t.openTrigger);if(t.debugMode!==!0||mt(o,n)!==!1)for(var i in n){var r=n[i];t.targetModal=i,t.triggers=O(r),m=new z(t)}},show:function(e,t){var o=t||{};o.targetModal=e,o.debugMode===!0&&G(e)===!1||(m&&m.removeEventListeners(),(m=new z(o)).showModal())},close:function(e){e?m.closeModalByIdOrElement(e):m.closeModal()}});typeof window<"u"&&(window.MicroModal=wt);var yt=wt;Y();var J=class{constructor(){this.worksSection=document.querySelector(".js-work"),this.workList=document.querySelector(".js-work-list"),this.workCards=document.querySelectorAll(".js-work-card"),this.currentCard=null,this.detailsBlock=null,this.workData=[],!(!this.worksSection||!this.workList)&&this.init()}init(){this.extractWorkData(),this.workCards.forEach((t,o)=>{let n=t.querySelector(".js-work-trigger");n&&n.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),this.toggleDetails(o,t)})}),this.escapeHandler=t=>{t.key==="Escape"&&this.currentCard!==null&&this.close()},document.addEventListener("keydown",this.escapeHandler)}extractWorkData(){this.workCards.forEach(t=>{let o=t.querySelector(".js-work-trigger img"),n=t.querySelector(".p-portfolio__work-title");if(o&&n){let i=t.dataset.workMeta||"",r=t.dataset.workTags||"[]",a=JSON.parse(r),c=t.dataset.workSummary||"",s=t.dataset.workDescription||"",l=t.dataset.workImages||"[]",u=JSON.parse(l);this.workData.push({image:o.src,alt:o.alt,title:n.textContent,meta:i,tags:a,summary:c,description:s,images:u.length>0?u:[o.src]})}})}async toggleDetails(t,o){if(this.currentCard===o&&this.detailsBlock){await this.close();return}await this.removeDetailsBlock(),this.insertDetailsBlock(t,o)}getGridColumnCount(){let n=window.getComputedStyle(this.workList).gridTemplateColumns.match(/repeat\((\d+)/);if(n)return parseInt(n[1],10);let i=window.innerWidth;return i>=1024?3:i>=768?2:1}getRowNumber(t,o){return Math.floor(t/o)}getNextRowStartCardIndex(t,o){let n=(t+1)*o,i=this.workCards.length;return n>=i?i-1:n}createDetailsElement(t){let o=document.createElement("li");return o.className="p-portfolio__work-details-block js-work-details-block",o.innerHTML=t,o}getCurrentRowLastCard(t){let o=this.getGridColumnCount(),i=(this.getRowNumber(t,o)+1)*o-1,r=this.workCards.length,a=i>=r?r-1:i;return this.workCards[a]}insertDetailsBlock(t,o){let n=this.workData[t];if(!n)return;let i=this.createDetailsHTML(n,t),r=this.createDetailsElement(i);this.getCurrentRowLastCard(t).insertAdjacentElement("afterend",r),this.currentCard=o,this.detailsBlock=r,o.classList.add("is-open"),this.openDetailsBlock(r),this.setupDetailsBlockEvents(r,n,t)}setupDetailsBlockEvents(t,o,n){let i=t.querySelector(".js-work-close");i&&i.addEventListener("click",()=>{this.close()}),o.images.length>1&&this.initSlider(t)}createDetailsHTML(t,o){return`
			<div class="p-portfolio__work-details-content">
				<button class="p-portfolio__work-close js-work-close" aria-label="\u8A73\u7D30\u3092\u9589\u3058\u308B">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<line x1="18" y1="6" x2="6" y2="18"></line>
						<line x1="6" y1="6" x2="18" y2="18"></line>
					</svg>
				</button>
				<div class="p-portfolio__work-details-inner">
					<div class="p-portfolio__work-details-grid">
						${t.images.length>1?`
			<div class="c-slider" data-slider="work-details-${o}">
				<div class="c-slider__viewport">
					<div class="c-slider__track">
						${t.images.map((i,r)=>`
							<div class="c-slider__slide">
								<img src="${i}" alt="${t.alt} - \u753B\u50CF${r+1}" />
							</div>
						`).join("")}
					</div>
				</div>
				<button class="c-slider__button c-slider__button--prev" aria-label="\u524D\u306E\u753B\u50CF" data-slider-prev>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<polyline points="15 18 9 12 15 6"></polyline>
					</svg>
				</button>
				<button class="c-slider__button c-slider__button--next" aria-label="\u6B21\u306E\u753B\u50CF" data-slider-next>
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<polyline points="9 18 15 12 9 6"></polyline>
					</svg>
				</button>
				<div class="c-slider__pagination" aria-label="\u30B9\u30E9\u30A4\u30C0\u30FC\u306E\u30DA\u30FC\u30B8\u30CD\u30FC\u30B7\u30E7\u30F3"></div>
			</div>
		`:`
			<div class="p-portfolio__work-details-image">
				<img src="${t.images[0]}" alt="${t.alt}" />
			</div>
		`}
						<div class="p-portfolio__work-details-text">
							<h2 class="p-portfolio__work-details-title">${t.title}</h2>
							<hr class="p-portfolio__work-details-divider" />
							${t.meta?`<p class="p-portfolio__work-details-meta">${t.meta}</p>`:""}
							${t.tags.length>0?`
								<div class="p-portfolio__work-details-tags">
									${t.tags.map(i=>`<span class="c-badge c-badge--small">${i}</span>`).join("")}
								</div>
							`:""}
							${t.summary?`<p class="p-portfolio__work-details-summary">${t.summary}</p>`:""}
							${t.description?`<p class="p-portfolio__work-details-description">${t.description}</p>`:""}
						</div>
					</div>
				</div>
			</div>
		`}initSlider(t){let o=t.querySelector("[data-slider]");o&&Promise.resolve().then(()=>(Y(),Tt)).then(({ImageSlider:n,sliderInstances:i})=>{setTimeout(()=>{if(!i.has(o)){let r=new n(o);i.set(o,r)}},0)})}scrollToDetails(t){let o=t.getBoundingClientRect(),i=(window.pageYOffset||document.documentElement.scrollTop)+o.top-20;window.scrollTo({top:i,behavior:"smooth"})}openDetailsBlock(t){t.style.height="0px",requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.style.height="auto";let o=t.scrollHeight;t.style.height="0px",requestAnimationFrame(()=>{t.style.height=`${o}px`})})})}closeDetailsBlock(t){return new Promise(o=>{let n=t.scrollHeight;t.style.height=`${n}px`,requestAnimationFrame(()=>{t.style.height="0px";let i=()=>{t.removeEventListener("transitionend",i),o()};t.addEventListener("transitionend",i)})})}async removeDetailsBlock(){this.detailsBlock&&(await this.closeDetailsBlock(this.detailsBlock),this.detailsBlock.remove(),this.detailsBlock=null),this.currentCard&&this.currentCard.classList.remove("is-open"),this.currentCard=null}async close(){await this.removeDetailsBlock()}destroy(){this.close(),document.removeEventListener("keydown",this.escapeHandler)}};function xt(){document.querySelector(".js-work-list")&&new J}function te(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",xt):setTimeout(xt,0)}te();var A=class{constructor(){this.STORAGE_KEY="theme",this.DARK_THEME_VALUE="dark",this.LIGHT_THEME_VALUE="light",this.init()}init(){this.applyInitialTheme(),this.createToggle()}applyInitialTheme(){let t=localStorage.getItem(this.STORAGE_KEY);t?document.documentElement.setAttribute("data-theme",t):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.setAttribute("data-theme",this.DARK_THEME_VALUE)}createToggle(){let t=document.querySelector(".p-portfolio__nav-inner");if(!t)return;let o=document.createElement("button");o.className="c-theme-toggle",o.setAttribute("aria-label","\u30C6\u30FC\u30DE\u5207\u308A\u66FF\u3048"),o.innerHTML=`
			<svg class="c-theme-toggle__icon c-theme-toggle__icon--sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
			<svg class="c-theme-toggle__icon c-theme-toggle__icon--moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
		`,o.addEventListener("click",()=>this.toggleTheme()),t.appendChild(o)}toggleTheme(){let o=document.documentElement.getAttribute("data-theme")===this.DARK_THEME_VALUE?this.LIGHT_THEME_VALUE:this.DARK_THEME_VALUE;document.documentElement.setAttribute("data-theme",o),localStorage.setItem(this.STORAGE_KEY,o)}};var M=class{constructor(){this.targets=document.querySelectorAll(".js-scroll-trigger"),this.options={root:null,rootMargin:"0px",threshold:.2},this.init()}init(){if(this.targets.length===0)return;let t=new IntersectionObserver(this.callback.bind(this),this.options);this.targets.forEach(o=>{t.observe(o)})}callback(t,o){t.forEach(n=>{n.isIntersecting&&(n.target.classList.add("is-visible"),o.unobserve(n.target))})}};var _=class{constructor(){this.cursor=null,this.pos={x:0,y:0},this.mouse={x:0,y:0},this.speed=.1,this.init()}init(){this.cursor=document.createElement("div"),this.cursor.className="c-cursor",document.body.appendChild(this.cursor),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.querySelectorAll("a, button, .js-cursor-hover").forEach(o=>{o.addEventListener("mouseenter",()=>this.cursor.classList.add("is-hover")),o.addEventListener("mouseleave",()=>this.cursor.classList.remove("is-hover"))}),this.animate()}onMouseMove(t){this.mouse.x=t.clientX,this.mouse.y=t.clientY,this.cursor.classList.contains("is-active")||this.cursor.classList.add("is-active")}animate(){this.pos.x+=(this.mouse.x-this.pos.x)*this.speed,this.pos.y+=(this.mouse.y-this.pos.y)*this.speed,this.cursor.style.transform=`translate3d(${this.pos.x}px, ${this.pos.y}px, 0)`,requestAnimationFrame(this.animate.bind(this))}};var Q=class{constructor(t){this.el=t,this.chars="!<>-_\\/[]{}\u2014=+*^?#________",this.update=this.update.bind(this)}setText(t){let o=this.el.innerText,n=Math.max(o.length,t.length),i=new Promise(r=>this.resolve=r);this.queue=[];for(let r=0;r<n;r++){let a=o[r]||"",c=t[r]||"",s=Math.floor(Math.random()*15),l=s+Math.floor(Math.random()*15);this.queue.push({from:a,to:c,start:s,end:l})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),i}update(){let t="",o=0;for(let n=0,i=this.queue.length;n<i;n++){let{from:r,to:a,start:c,end:s,char:l}=this.queue[n];this.frame>=s?(o++,t+=a):this.frame>=c?((!l||Math.random()<.28)&&(l=this.randomChar(),this.queue[n].char=l),t+=`<span class="dud">${l}</span>`):t+=r}this.el.innerHTML=t,o===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}},C=class{constructor(){this.targets=document.querySelectorAll(".js-text-scramble"),this.init()}init(){if(this.targets.length===0)return;let t=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){let i=n.target,r=i.getAttribute("data-text")||i.innerText;new Q(i).setText(r),t.unobserve(i)}})},{threshold:.5});this.targets.forEach(o=>{o.getAttribute("data-text")||o.setAttribute("data-text",o.innerText),t.observe(o)})}};yt.init({disableScroll:!0});new A;new M;new _;new C;
//# sourceMappingURL=main.js.map
