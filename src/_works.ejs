		<section id="works" class="p-portfolio__section p-portfolio__work" data-work data-scroll-trigger>
			<div class="l-container">
				<div class="u-text-center u-mb-16">
					<h2 class="p-portfolio__section-title" data-text-scramble data-text="Works">Works</h2>
				</div>

				<!-- グリッドレイアウト -->
				<ul class="p-portfolio__work-list l-grid l-grid--cols-3" data-work-list>
					<% if (typeof portfolio !== 'undefined' && portfolio.works && portfolio.works.length > 0) { %>
						<% portfolio.works.forEach(function(work) { %>
							<%
								const title = work.data['.p-portfolio__work-details-title'] || '';
								const meta = work.data['.p-portfolio__work-details-meta'] || '';
								const tags = work.data['.p-portfolio__work-details-tags'] || [];
								const description = work.data['.p-portfolio__work-details-description'] || '';
								const linkData = work.data['.p-portfolio__work-details-link'] || '';
								const images = work.data['.p-portfolio__work-details-content .c-slider__slide'] || [];
								// 画像データを正規化（オブジェクト配列の場合はsrcを取得、文字列配列の場合はそのまま）
								const firstImageData = Array.isArray(images) && images.length > 0 ? images[0] : null;
								let firstImage = firstImageData
									? (typeof firstImageData === 'object' && firstImageData.src ? firstImageData.src : firstImageData)
									: '';
								// :linkサフィックスを削除して正しいパスに修正
								if (firstImage) {
									// 既に./images/プレフィックスが付いている場合はそのまま
									if (!firstImage.startsWith('./images/')) {
										firstImage = './images/' + firstImage.replace(/:link$/, '');
									}
								}
								const tagsJson = JSON.stringify(Array.isArray(tags) ? tags : []);
								const imagesJson = JSON.stringify(Array.isArray(images) ? images : []);
								// リンクデータの処理（URL|テキスト形式、またはオブジェクト/配列）
								const defaultLinkText = 'サイトを見る';
								let linkUrl = '';
								let linkText = defaultLinkText;
								if (linkData) {
									if (typeof linkData === 'string') {
										const linkParts = linkData.split('|');
										linkUrl = (linkParts[0] || '').trim();
										linkText = (linkParts[1] || defaultLinkText).trim();
									} else if (Array.isArray(linkData)) {
										linkUrl = (linkData[0] || '').trim();
										linkText = (linkData[1] || defaultLinkText).trim();
									} else if (typeof linkData === 'object') {
										linkUrl = (linkData.url || '').trim();
										linkText = (linkData.text || linkData.label || defaultLinkText).trim();
									}
								}
								const hasLink = !!linkUrl;
								const linkJson = hasLink ? JSON.stringify({ url: linkUrl, text: linkText }) : '{}';
								// タイトル、画像、meta、tags、description、リンクのいずれかがあれば表示
								const hasContent = title || firstImage || meta || (Array.isArray(tags) && tags.length > 0) || description || hasLink;
							%>
							<% if (hasContent) { %>
								<li class="p-portfolio__work-card"
									data-work-card
									data-work-meta="<%= meta %>"
									data-work-tags='<%= tagsJson %>'
									data-work-description="<%= description %>"
									data-work-link='<%= linkJson %>'
									data-work-images='<%= imagesJson %>'>
									<article>
										<% if (firstImage) { %>
											<button class="p-portfolio__work-image p-portfolio__work-trigger" data-work-trigger
												aria-label="<%= title || 'ワーク' %>の詳細を表示">
												<img src="<%= firstImage %>"
													alt="<%= title || 'ワーク' %>" />
											</button>
										<% } %>

										<div class="p-portfolio__work-content">
											<% if (title) { %>
												<h3 class="p-portfolio__work-title"><%= title %></h3>
											<% } else { %>
												<h3 class="p-portfolio__work-title">ワーク</h3>
											<% } %>
										</div>
									</article>
								</li>
							<% } %>
						<% }); %>
					<% } %>
				</ul>
			</div>
		</section>