/**
 * ライトボックスコンポーネント
 *
 * 概要:
 * 画像を原寸大で拡大表示するライトボックス
 *
 * 主な仕様:
 * - 画像クリック時に原寸大で表示
 * - オーバーレイクリックまたはESCキーで閉じる
 * - フェードイン/アウトアニメーション
 * - レスポンシブ対応
 *
 * 制限事項:
 * - 画像のみ対応（動画などは未対応）
 */

@use '../foundation' as *;

.c-lightbox {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 10000;
	display: flex;
	align-items: center;
	justify-content: center;
	opacity: 0;
	visibility: hidden;
	transition: opacity $transition-base, visibility $transition-base;

	&.is-open {
		opacity: 1;
		visibility: visible;
	}

	&__overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba($color-black, 0.9);
		backdrop-filter: blur(4px);
		cursor: pointer;
	}

	&__content {
		position: relative;
		max-width: 90vw;
		max-height: 90vh;
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: 1;
	}

	&__image {
		max-width: 100%;
		max-height: 90vh;
		width: auto;
		height: auto;
		object-fit: contain;
		border-radius: $border-radius-sm;
		box-shadow: 0 8px 32px rgba($color-black, 0.5);
	}

	&__close {
		position: absolute;
		top: -48px;
		right: 0;
		width: 48px;
		height: 48px;
		display: flex;
		align-items: center;
		justify-content: center;
		background-color: rgba($color-white, 0.9);
		border: none;
		border-radius: 50%;
		cursor: pointer;
		padding: 0;
		transition: background-color $transition-base, transform $transition-base;
		color: $color-text;

		&:hover,
		&:focus-visible {
			background-color: $color-white;
			transform: scale(1.1);
			outline: 2px solid $color-primary;
			outline-offset: 2px;
		}

		&:active {
			transform: scale(0.95);
		}

		svg {
			width: 24px;
			height: 24px;
			pointer-events: none;
		}

		@include mq(sm) {
			top: -40px;
			width: 40px;
			height: 40px;

			svg {
				width: 20px;
				height: 20px;
			}
		}
	}
}

